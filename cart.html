<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Your shopping cart - HotWheels">
    <title>Cart - HotWheels</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <span class="logo-icon">üèéÔ∏è</span>
                Hot<span>Wheels</span>
            </a>
<ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="collection.html" class="nav-link">Collection</a></li>
                <li><a href="index.html#about" class="nav-link">About</a></li>
                <li><a href="contact.html" class="nav-link">Contact</a></li>
            </ul>
<div class="nav-actions">
                <a href="cart.html" class="nav-cart">
                    <span class="nav-cart-icon">üõí</span>
                    <span class="cart-badge">0</span>
                </a>
                <a href="login.html" class="nav-user">üë§ Login</a>
            </div>
        </div>
    </nav>
<main class="section">
        <div class="container cart-container">
<div class="cart-items" id="cart-items">
                <div class="cart-header">
                    <h2>üõí Shopping Cart</h2>
                </div>
                <div id="cart-content">
</div>
            </div>
<div class="order-summary" id="order-summary">
                <h3>Order Summary</h3>
<div class="summary-row">
                    <span>Subtotal</span>
                    <span id="summary-subtotal">$0.00</span>
                </div>
<div class="summary-row">
                    <span>Shipping</span>
                    <span id="summary-shipping">$0.00</span>
                </div>
<div class="summary-row">
                    <span>Tax (8%)</span>
                    <span id="summary-tax">$0.00</span>
                </div>
<div class="summary-row total">
                    <span>Total</span>
                    <span id="summary-total">$0.00</span>
                </div>
<div class="promo-code">
                    <input type="text" class="promo-input" placeholder="Promo code">
                    <button class="btn btn-ghost btn-sm">Apply</button>
                </div>
<button class="btn btn-primary btn-lg" style="width: 100%;" id="checkout-btn"
                    onclick="proceedToCheckout()">
                    Proceed to Checkout ‚Üí
                </button>
<p style="text-align: center; margin-top: 1rem; font-size: 0.85rem; color: var(--text-muted);">
                    üîí Secure checkout powered by industry standard encryption
                </p>
            </div>
        </div>
    </main>
<footer class="footer">
        <div class="container">
            <div class="footer-bottom" style="border-top: none; padding-top: 0;">
                <p>¬© 2026 HotWheels. All rights reserved.</p>
                <p>Made with ‚ù§Ô∏è for car enthusiasts</p>
            </div>
        </div>
    </footer>
<script src="js/auth.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/app.js"></script>
    <script>
function loadCart() {
            const container = document.getElementById('cart-content');
            const cartItems = getCartWithDetails();
if (cartItems.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üõí</div>
                        <h3 class="empty-title">Your cart is empty</h3>
                        <p class="empty-text">Add some awesome car toys to get started!</p>
                        <a href="collection.html" class="btn btn-primary">
                            Browse Collection
                        </a>
                    </div>
                `;
                document.getElementById('checkout-btn').disabled = true;
                document.getElementById('checkout-btn').style.opacity = '0.5';
                updateSummary({ subtotal: 0, tax: 0, shipping: 0, total: 0 });
                return;
            }
container.innerHTML = cartItems.map(item => `
                <div class="cart-item" data-product-id="${item.productId}">
                    <div class="cart-item-image">
                        <img src="${item.product.image}" alt="${item.product.name}">
                    </div>
                    <div class="cart-item-info">
                        <h4 class="cart-item-name">${item.product.name}</h4>
                        <div class="cart-item-category">${item.product.category}</div>
                        <div class="cart-item-quantity">
                            <button class="cart-qty-btn" onclick="updateQuantity(${item.productId}, ${item.quantity - 1})">‚àí</button>
                            <span class="cart-qty-value">${item.quantity}</span>
                            <button class="cart-qty-btn" onclick="updateQuantity(${item.productId}, ${item.quantity + 1})">+</button>
                        </div>
                    </div>
                    <div class="cart-item-price">
                        <div class="cart-item-unit-price">${formatPrice(item.product.price)} each</div>
                        <div class="cart-item-total">${formatPrice(item.product.price * item.quantity)}</div>
                        <button class="cart-item-remove" onclick="removeItem(${item.productId})">
                            Remove
                        </button>
                    </div>
                </div>
            `).join('');
document.getElementById('checkout-btn').disabled = false;
            document.getElementById('checkout-btn').style.opacity = '1';
const totals = getCartTotal();
            updateSummary(totals);
        }
function updateSummary(totals) {
            document.getElementById('summary-subtotal').textContent = formatPrice(totals.subtotal);
            document.getElementById('summary-shipping').textContent = totals.shipping === 0 ? 'FREE' : formatPrice(totals.shipping);
            document.getElementById('summary-tax').textContent = formatPrice(totals.tax);
            document.getElementById('summary-total').textContent = formatPrice(totals.total);
        }
function updateQuantity(productId, quantity) {
            updateCartQuantity(productId, quantity);
            loadCart();
        }
function removeItem(productId) {
            removeFromCart(productId);
            loadCart();
            showNotification('Item removed from cart');
        }
function proceedToCheckout() {
            const cart = getCart();
            if (cart.length === 0) {
                showNotification('Your cart is empty!');
                return;
            }
if (!isLoggedIn()) {
sessionStorage.setItem('redirectAfterLogin', 'checkout.html');
                window.location.href = 'login.html';
            } else {
                window.location.href = 'checkout.html';
            }
        }
function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'alert alert-success';
            notification.style.cssText = 'position: fixed; bottom: 20px; right: 20px; z-index: 3000; animation: fadeInUp 0.3s ease;';
            notification.innerHTML = `‚úì ${message}`;
            document.body.appendChild(notification);
setTimeout(() => {
                notification.style.animation = 'fadeInUp 0.3s ease reverse';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
document.addEventListener('DOMContentLoaded', () => {
            loadCart();
        });
    </script>
</body>
</html>